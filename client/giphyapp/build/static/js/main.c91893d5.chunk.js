(this.webpackJsonpgiphyapp=this.webpackJsonpgiphyapp||[]).push([[0],{18:function(e,t,a){},33:function(e,t,a){e.exports=a(63)},38:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),o=a.n(c),l=(a(38),a(10)),s=a(11),i=a(13),u=a(12),m=a(16),p=a.n(m),h=a(7),g=a.n(h),f=a(14),d=(a(18),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getApi()},n.getApi=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,fetch("/giphy/v1/gifs",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),t=e.map((function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:e.gifUrl}),r.a.createElement("button",{value:e.gifID,onClick:n.gifDelete}," Delete"),r.a.createElement("button",{value:e.gifID,onClick:n.gifUpdate}," Update"))})),n.setState({htmlArray:t})})).catch((function(e){return console.log("error")}));case 3:case"end":return e.stop()}}),e)}))),n.gifDelete=function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(t.target.value),e.next=4,fetch("/giphy/v1/gifs/"+t.target.value,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});case 4:n.getApi();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.gifUpdate=function(e){e.preventDefault(),document.getElementsByClassName("modal")[0].style.display="flex",n.setState({urlChange:e.target.value})},n.handleImageChange=function(e){e.preventDefault(),n.setState({filePath:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),console.log(n.state.urlChange),n.updateDb(),document.getElementsByClassName("modal")[0].style.display="none",alert("Image Uploaded")},n.updateDb=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/giphy/v1/gifs/"+n.state.urlChange,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({gifUrl:n.state.filePath})});case 2:n.getApi();case 3:case"end":return e.stop()}}),e)}))),n.state={src:"",filePath:"",htmlArray:[],urlChange:""},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Container"},r.a.createElement("div",{className:"GridContainer"},this.state.htmlArray),r.a.createElement("div",{className:"modal"},r.a.createElement("form",{onSubmit:this._handleSubmit},r.a.createElement("h1",null,"Please select file to update image"),r.a.createElement("input",{type:"text",onChange:this.handleImageChange}),r.a.createElement("button",{type:"submit",onClick:this.handleSubmit},"Upload Image"))))}}]),a}(n.Component)),y=a(8),v=a(1),E=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).saveImage=function(e){console.log(n.props.searchKey);var t;t={gifName:n.props.searchKey,gifCategory:n.props.searchKey,gifUrl:e.target.value},console.log(t.GifName),fetch("/giphy/v1/gifs",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})},n.state={src:"",htmlArray:[],searchKey:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){void 0!=this.props.searchKey&&this.callApi()}},{key:"componentDidUpdate",value:function(e){console.log(this.props.searchKey),this.props.searchKey!=e.searchKey&&(console.log(this.props.searchKey),this.callApi())}},{key:"callApi",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.searchKey,"8tuRAlgbK4rykSIbwcmzljWJT1s35yt4",console.log("8tuRAlgbK4rykSIbwcmzljWJT1s35yt4"),p.a.get("https://cors-anywhere.herokuapp.com/".concat("https://api.giphy.com/v1/gifs/search?api_key=")+"8tuRAlgbK4rykSIbwcmzljWJT1s35yt4&q="+t,{}).then((function(e){console.log(e.data),console.log(e.data.data[0].images.downsized.url),console.log(a.state.htmlArray);var t=e.data.data.map((function(e){return r.a.createElement("div",null,r.a.createElement("button",{value:e.images.downsized.url,onClick:a.saveImage},'"Bookmark"'),r.a.createElement("img",{src:e.images.downsized.url}))}));a.setState({htmlArray:t})})).catch((function(e){console.log("error")}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"gridContainer"},this.state.htmlArray))}}]),a}(n.Component),b=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){e.preventDefault(),n.setState({srch:e.target.value})},n.state={searchKey:"",srch:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("input",{type:"text",onChange:this.handleChange}),r.a.createElement(y.a,null,r.a.createElement("div",{className:"Route"},r.a.createElement(y.b,{to:"/Search"},"  ",r.a.createElement("button",{type:"submit",onClick:function(t){return e.setState({searchKey:e.state.srch})}},"Submit")),r.a.createElement(y.b,{to:"/Reactions"}," Reactions"),r.a.createElement(y.b,{to:"/Sports"},"Sports"),r.a.createElement(y.b,{to:"/Entertainment"},"Entertainment"),r.a.createElement(y.b,{to:"/Artists"},"Artists"),r.a.createElement(y.b,{to:"/Bookmarks"},"Bookmarks")),r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/Search"},r.a.createElement(E,{searchKey:this.state.searchKey})," "),r.a.createElement(v.a,{exact:!0,path:"/Reactions"},r.a.createElement(E,{searchKey:"Reactions"})," "),r.a.createElement(v.a,{exact:!0,path:"/Sports"},r.a.createElement(E,{searchKey:"Sports"})," "),r.a.createElement(v.a,{exact:!0,path:"/Entertainment"},r.a.createElement(E,{searchKey:"Entertainment"})),r.a.createElement(v.a,{exact:!0,path:"/Artists"},r.a.createElement(E,{searchKey:"Artists"})," "),r.a.createElement(v.a,{exact:!0,path:"/Bookmarks"},r.a.createElement(d,null))))))))}}]),a}(n.Component);a(62);var k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.c91893d5.chunk.js.map