{"ast":null,"code":"import _regeneratorRuntime from\"/Users/student_m13/Desktop/Github/giphyapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/student_m13/Desktop/Github/giphyapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/student_m13/Desktop/Github/giphyapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/student_m13/Desktop/Github/giphyapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/student_m13/Desktop/Github/giphyapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/student_m13/Desktop/Github/giphyapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{BrowserRouter as Router,Route,Link,Switch}from\"react-router-dom\";// import $ from 'jquery';\nimport'./styles/Gif.scss';var Bookmarks=/*#__PURE__*/function(_Component){_inherits(Bookmarks,_Component);var _super=_createSuper(Bookmarks);function Bookmarks(props){var _this;_classCallCheck(this,Bookmarks);_this=_super.call(this,props);_this.componentDidMount=function(){_this.getApi();};_this.getApi=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var htmlArr;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:htmlArr=[];_context.next=3;return fetch('/giphy/v1/gifs',{method:'GET',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(data){console.log(data);htmlArr=data.map(function(dt){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:dt.gifUrl}),/*#__PURE__*/React.createElement(\"button\",{value:dt.gifID,onClick:_this.gifDelete},\" Delete\"),/*#__PURE__*/React.createElement(\"button\",{value:dt.gifID,onClick:_this.gifUpdate},\" Update\"));});_this.setState({htmlArray:htmlArr});}).catch(function(err){return console.log('error');});case 3:case\"end\":return _context.stop();}}},_callee);}));_this.gifDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();console.log(e.target.value);_context2.next=4;return fetch('/giphy/v1/gifs/'+e.target.value,{method:'DELETE',headers:{'Accept':'application/json','Content-Type':'application/json'}});case 4://       .then( => {\n//    // let updatedEmployees = [...this.state.employees].filter(i => i.id !== id);\n//        // this.setState({employees: updatedEmployees});\n//       });\n_this.getApi();case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.gifUpdate=function(e){e.preventDefault();document.getElementsByClassName('modal')[0].style.display='flex';_this.setState({urlChange:e.target.value});};_this.handleImageChange=function(e){e.preventDefault();_this.setState({filePath:e.target.value});// let reader = new FileReader();\n// let file = e.target.files[0];\n// reader.onloadend = () => {\n//   this.setState({\n//     file: file,\n//   });\n// }\n// reader.readAsDataURL(file)\n};_this.handleSubmit=function(e){e.preventDefault();console.log(_this.state.urlChange);_this.updateDb();document.getElementsByClassName('modal')[0].style.display='none';alert(\"Image Uploaded\");};_this.updateDb=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch('/giphy/v1/gifs/'+_this.state.urlChange,{method:'PUT',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({gifUrl:_this.state.filePath})});case 2:_this.getApi();case 3:case\"end\":return _context3.stop();}}},_callee3);}));_this.state={src:'',filePath:'',htmlArray:[],urlChange:''};return _this;}_createClass(Bookmarks,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"Container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"GridContainer\"},this.state.htmlArray),/*#__PURE__*/React.createElement(\"div\",{className:\"modal\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this._handleSubmit},/*#__PURE__*/React.createElement(\"h1\",null,\"Please select file to update image\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:this.handleImageChange}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",onClick:this.handleSubmit},\"Upload Image\"))));}}]);return Bookmarks;}(Component);export{Bookmarks as default};","map":{"version":3,"sources":["/Users/student_m13/Desktop/Github/giphyapp/src/components/Bookmarks.js"],"names":["React","Component","axios","BrowserRouter","Router","Route","Link","Switch","Bookmarks","props","componentDidMount","getApi","htmlArr","fetch","method","headers","then","response","json","data","console","log","map","dt","gifUrl","gifID","gifDelete","gifUpdate","setState","htmlArray","catch","err","e","preventDefault","target","value","document","getElementsByClassName","style","display","urlChange","handleImageChange","filePath","handleSubmit","state","updateDb","alert","body","JSON","stringify","src","_handleSubmit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {  BrowserRouter as Router, Route, Link ,Switch} from \"react-router-dom\";\n// import $ from 'jquery';\n\n\nimport './styles/Gif.scss'\n\nexport default class Bookmarks extends Component {\n    constructor(props) {\n        super(props);\n        this.state={\nsrc:'',\nfilePath:'',\nhtmlArray:[],\nurlChange:''\n        }\n    }\n    componentDidMount=()=>{\n        this.getApi()\n    }\n\n    getApi=async()=> {\n        var htmlArr=[]\n        await fetch('/giphy/v1/gifs', {\n            method:'GET',\n           headers: {\n             'Accept': 'application/json',\n             'Content-Type': 'application/json'\n           }\n           \n         }).then(response=> response.json()) .then(data=>{\n           \n            console.log(data)\n            htmlArr= data.map(dt=>{\nreturn(\n<div>\n    <img src={dt.gifUrl}/>\n    <button value={dt.gifID} onClick={this.gifDelete}> Delete</button>\n    <button value={dt.gifID} onClick={this.gifUpdate}> Update</button>\n    </div>\n)\n                \n  }  )    \n  this.setState({htmlArray:htmlArr})\n } ).catch((err) => \n            console.log ('error')\n            )\n    }\n\n    gifDelete=async(e)=>{\n        e.preventDefault()\nconsole.log(e.target.value)\n        await fetch('/giphy/v1/gifs/'+e.target.value, {\n            method: 'DELETE',\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json'\n            }\n          })\n    //       .then( => {\n    //    // let updatedEmployees = [...this.state.employees].filter(i => i.id !== id);\n    //        // this.setState({employees: updatedEmployees});\n    //       });\n          this.getApi()\n\n    }\n    gifUpdate=(e)=>{\n        e.preventDefault()\n         document.getElementsByClassName('modal')[0].style.display='flex'\n         this.setState({urlChange:e.target.value})\n    }\n    handleImageChange=(e)=>{\n      e.preventDefault()\n      this.setState({filePath:e.target.value})\n\n      // let reader = new FileReader();\n      // let file = e.target.files[0];\n  \n      // reader.onloadend = () => {\n      //   this.setState({\n      //     file: file,\n         \n      //   });\n      // }\n  \n      // reader.readAsDataURL(file)\n\n    }\n    handleSubmit=(e)=>{\n      e.preventDefault()\nconsole.log(this.state.urlChange)\nthis.updateDb()\ndocument.getElementsByClassName('modal')[0].style.display='none'\nalert(\"Image Uploaded\")\n    }\n\n    updateDb=async()=>{\n      await fetch('/giphy/v1/gifs/'+this.state.urlChange, {\n        method: 'PUT',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body:JSON.stringify({gifUrl:this.state.filePath})\n\n\n        }  )\n        this.getApi()\n    \n    \n  }\n\n    render(){\n\n        return(\n          <div className=\"Container\">\n           <div className=\"GridContainer\">\n\n{this.state.htmlArray}\n           </div> \n           <div className=\"modal\">\n           <form onSubmit={this._handleSubmit}>\n             <h1>Please select file to update image</h1>\n                     <input type=\"text\" onChange={this.handleImageChange} />\n                     <button type=\"submit\" onClick={this.handleSubmit}>Upload Image</button>\n                   </form>\n                   </div>\n                   </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}