{"ast":null,"code":"import _regeneratorRuntime from\"/Users/student_m13/Desktop/Github/giphyapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/student_m13/Desktop/Github/giphyapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/student_m13/Desktop/Github/giphyapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/student_m13/Desktop/Github/giphyapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/student_m13/Desktop/Github/giphyapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/student_m13/Desktop/Github/giphyapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import Bookmarks from'./Bookmarks';import'./styles/Gif.scss';var GifImages=/*#__PURE__*/function(_Component){_inherits(GifImages,_Component);var _super=_createSuper(GifImages);function GifImages(props){var _this;_classCallCheck(this,GifImages);_this=_super.call(this,props);_this.saveImage=function(e){console.log(_this.props.searchKey);var gifObj={};gifObj={gifName:_this.props.searchKey,gifCategory:_this.props.searchKey,gifUrl:e.target.value};console.log(gifObj[\"GifName\"]);fetch('/giphy/v1/gifs',{method:'POST',//  method:'PUT',\nheaders:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify(gifObj)});};_this.state={src:'',htmlArray:[],searchKey:''};return _this;}_createClass(GifImages,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.searchKey!=undefined)this.callApi();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){console.log(this.props.searchKey);if(this.props.searchKey!=prevProps.searchKey){console.log(this.props.searchKey);this.callApi();}}},{key:\"callApi\",value:function(){var _callApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var searchKey,apikey;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// this.setState({searchKey:this.props.searchKey})\nsearchKey=this.props.searchKey;apikey=process.env.REACT_APP_API_KEY;console.log(process.env.REACT_APP_API_KEY);axios.get('https://cors-anywhere.herokuapp.com/'.concat(\"https://api.giphy.com/v1/gifs/search?api_key=\")+apikey+\"&q=\"+searchKey,{// axios.get(`${'https://cors-anywhere.herokuapp.com/'}https://api.giphy.com/v1/stickers/trending?api_key=8tuRAlgbK4rykSIbwcmzljWJT1s35yt4`, {\n}).then(function(res){console.log(res.data);// this.setState({htmlArray:res.data.data});\nconsole.log(res.data.data[0].images.downsized.url);console.log(_this2.state.htmlArray);// this.setState({img:res.data.data[0].images.downsized.url})\n//       let src;\nvar htmlArray=res.data.data.map(function(resObj){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{value:resObj.images.downsized.url,onClick:_this2.saveImage},\"\\\"Bookmark\\\"\"),/*#__PURE__*/React.createElement(\"img\",{src:resObj.images.downsized.url}));});_this2.setState({htmlArray:htmlArray});{}/* <Link to=\"/Reviews\" onClick={() => this.props.capture(<Restaurant imgclicked={resObj} location={resObj.location.display_address} />,resObj.alias)} >\n            <Restaurant imgclicked={resObj} location={resObj.location.display_address} />\n             </Link> */ //this.setState({resHTML:elements});\n//this.img_onclick(1);\n//console.log(this.state.data[0].location.display_address);\n}).catch(function(err){console.log('error');});case 4:case\"end\":return _context.stop();}}},_callee,this);}));function callApi(){return _callApi.apply(this,arguments);}return callApi;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"gridContainer\"},this.state.htmlArray));}}]);return GifImages;}(Component);export{GifImages as default};","map":{"version":3,"sources":["/Users/student_m13/Desktop/Github/giphyapp/src/components/GifImages.js"],"names":["React","Component","axios","Bookmarks","GifImages","props","saveImage","e","console","log","searchKey","gifObj","gifName","gifCategory","gifUrl","target","value","fetch","method","headers","body","JSON","stringify","state","src","htmlArray","undefined","callApi","prevProps","apikey","process","env","REACT_APP_API_KEY","get","then","res","data","images","downsized","url","map","resObj","setState","catch","err"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nimport Bookmarks from'./Bookmarks'\nimport './styles/Gif.scss'\n\nexport default class GifImages extends Component {\n    constructor(props) {\n        super(props);\n        this.state={\nsrc:'',\nhtmlArray:[],\nsearchKey:''\n        }\n    }\n\n    componentDidMount() {\n    \n     \n       if(this.props.searchKey!=undefined)\n     this.callApi();   \n        \n    }\n\n    componentDidUpdate(prevProps) {\n      console.log(this.props.searchKey)\n      if (this.props.searchKey!=prevProps.searchKey)\n       {\n         \n         console.log(this.props.searchKey)\n           this.callApi()\n       }\n           }\n    \n    \n\n    async callApi() {\n      // this.setState({searchKey:this.props.searchKey})\n      var searchKey=this.props.searchKey\n      var apikey=process.env.REACT_APP_API_KEY\n        console.log(process.env.REACT_APP_API_KEY)\n        axios.get(`${'https://cors-anywhere.herokuapp.com/'}https://api.giphy.com/v1/gifs/search?api_key=`+apikey+`&q=`+searchKey,{\n        // axios.get(`${'https://cors-anywhere.herokuapp.com/'}https://api.giphy.com/v1/stickers/trending?api_key=8tuRAlgbK4rykSIbwcmzljWJT1s35yt4`, {\n           \n       \n        \n        })\n        .then((res) => {\n          console.log(res.data)\n          // this.setState({htmlArray:res.data.data});\n            console.log(res.data.data[0].images.downsized.url)\n            console.log(this.state.htmlArray)\n            // this.setState({img:res.data.data[0].images.downsized.url})\n       \n      //       let src;\n        let htmlArray = res.data.data.map(resObj => \n          <div>\n       <button value={resObj.images.downsized.url} onClick={this.saveImage} >\"Bookmark\"</button>\n      <img src={resObj.images.downsized.url} />\n      </div>\n      \n        );\n        this.setState({htmlArray:htmlArray})\n         \n         {/* <Link to=\"/Reviews\" onClick={() => this.props.capture(<Restaurant imgclicked={resObj} location={resObj.location.display_address} />,resObj.alias)} >\n            <Restaurant imgclicked={resObj} location={resObj.location.display_address} />\n             </Link> */}\n        //this.setState({resHTML:elements});\n        //this.img_onclick(1);\n        //console.log(this.state.data[0].location.display_address);\n        })\n        .catch((err) => {\n        console.log ('error');\n        })\n        \n      }\n\n      \n\n      saveImage=(e)=>{\n        console.log(this.props.searchKey)\n        var gifObj={ }\n         gifObj={\n          gifName: this.props.searchKey,\n          gifCategory: this.props.searchKey,\n          gifUrl: e.target.value\n\n        }\n        console.log(gifObj[\"GifName\"])\n        fetch('/giphy/v1/gifs', {\n          method: 'POST',\n         //  method:'PUT',\n         headers: {\n           'Accept': 'application/json',\n           'Content-Type': 'application/json'\n         },\n         body: JSON.stringify( gifObj )\n       });\n      }\nrender(){\n\n  return (\n  \n    <React.Fragment>\n  <div className=\"gridContainer\">\n  {this.state.htmlArray}\n       {/* <div style={{ margin: \"100px\" , 'display' : 'flex', justifyContent: \"center\"}}>\n       <Carousel className=\"carousel-container\" style={{'height':\"500px\", 'width' : \"700px\" , \n                            }} >\n    { this.state.htmlArray.map(resObj =>{\n      return(\n       <Carousel.Item className=\"carousel-item\">\n                        <img style={{'height':\"500px\" , 'width': \"570px\", 'padding' : '40px', 'marginLeft' : '65px'}} \n                        \n                        src={resObj.images.downsized.url}\n                        alt=\"First slide\"  \n                        />  </Carousel.Item  > \n      \n       ) }              \n      )\n       }\n     \n      \n     </Carousel>\n    </div>  */}\n    </div>\n    </React.Fragment> \n  )\n}\n\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}